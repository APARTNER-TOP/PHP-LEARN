<!DOCTYPE html>
<html lang="uk">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>PHP Xdebug встановлення і правильна робота з ним</title>
   <link rel="stylesheet" href="assets/css/style.css">

   <!-- hightlight -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">

   <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
   <!-- and it's easy to individually load additional languages -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js"></script>

   <link rel="stylesheet" href="assets/css/codeHightLight.css">
</head>

<body>
   <div class="post-content">
      Xdebug - це PHP-розширення, яке дозволяє відлажувати PHP-код шляхом надання детальної інформації про виконання
      скрипту. Встановлення та налаштування Xdebug досить прості і можуть бути виконані у кілька кроків. Ось кроки для
      встановлення та використання Xdebug.
      <br>
      <br>

      Крок 1: Встановлення Xdebug
      Для встановлення Xdebug можна використовувати менеджери пакетів, такі як PECL або Composer, або ж зібрати його з
      вихідних кодів. Якщо ви використовуєте менеджер пакетів, виконайте наступну команду:
      <pre>
         <code>
            pecl install xdebug
         </code>
      </pre>


      Якщо ви збираєте Xdebug з вихідних кодів, завантажте його зі сторінки завантажень на офіційному сайті Xdebug та
      дотримуйтесь інструкцій для збирання та встановлення.
      <br>
      <br>

      Крок 2: Налаштування PHP для використання Xdebug
      Для того, щоб PHP користувався Xdebug, вам потрібно додати деякі конфігураційні параметри до файлу php.ini.
      Відкрийте файл php.ini та додайте наступні рядки до нього:
      <pre>
         <code>
            zend_extension=/повний/шлях/до/xdebug.so
            xdebug.mode=debug
            xdebug.client_host=127.0.0.1
            xdebug.client_port=9000


            xdebug.remote_autostart = 1
            xdebug.remote_enable = 1
         </code>
      </pre>

      де /повний/шлях/до/xdebug.so - це повний шлях до файлу xdebug.so на вашому комп'ютері. Змініть xdebug.client_host
      та xdebug.client_port на ті значення, які використовується вашою IDE для налагодження PHP.
      <br>
      <br>
      Крок 3: Підключення до Xdebug з вашою IDE
      Для відлагодження PHP з Xdebug вам потрібно підключити вашу IDE до Xdebug. Кожна IDE має свої власні налаштування
      для цього, але зазвичай вам потрібно буде ввести параметри xdebug.client_host та xdebug.client_port в
      налаштуваннях вашої IDE. Після того, як ви збережете налаштування, ви можете відлагоджувати ваш PHP-код. Для цього
      встановіть точки зупину (breakpoints) в вашому коді, запустіть процес відлагодження у вашій IDE та запустіть ваш
      PHP-скрипт. Після того, як ваш код досягне точки зупину, ви можете переглядати значення змінних та стек викликів
      функцій. Ви також можете використовувати команди для керування виконанням коду, такі як крок до наступної лінії,
      крок в функцію та інші.
      <br>
      <br>
      Крок 4: Використання Xdebug для профілювання PHP
      Xdebug також може бути використаний для профілювання PHP-коду. Це означає, що ви можете отримати детальну
      інформацію про те, як ваш код працює, включаючи кількість викликів функцій та час виконання кожної функції. Щоб
      використовувати Xdebug для профілювання, додайте наступні рядки до файлу php.ini:
      <pre>
         <code>
            xdebug.mode=profile
            xdebug.output_dir=/повний/шлях/до/вихідного/каталогу
         </code>
      </pre>
      Після цього запустіть ваш PHP-скрипт та перегляньте згенерований файл профілювання. Він міститиме детальну
      інформацію про кожну функцію та її час виконання.

      <br>
      <br>
      Крок 5: Використання Xdebug з іншими інструментами
      Xdebug можна інтегрувати з різними інструментами, що допоможуть вам ще більше поліпшити ваш розробний процес. Ось
      кілька прикладів:<br>

      <strong>PHPUnit</strong> - PHPUnit є популярним фреймворком для тестування PHP-коду. Xdebug можна використовувати
      для відлагодження тестів PHPUnit, дозволяючи вам детально перевірити ваш код під час виконання тестів.<br>

      <strong>PhpStorm </strong>- PhpStorm є популярною IDE для розробки PHP-коду, що має вбудовану підтримку Xdebug. Ви
      можете використовувати PhpStorm для відлагодження та профілювання вашого PHP-коду з використанням Xdebug.<br>

      <strong>ChromePhp</strong> - ChromePhp є інструментом для виведення логів з вашого PHP-коду в браузері Google
      Chrome. Він може бути інтегрований з Xdebug, дозволяючи вам детально вивчати логи вашого коду під час
      виконання.<br>

      <br>
      Крок 6: Тестовий код для відлагодження

      <pre>
         <code>
            function add($a, $b) {
               return $a + $b;
           }
           
           function multiply($a, $b) {
               return $a * $b;
           }
           
           $x = 10;
           $y = 5;
           
           $result1 = add($x, $y);
           $result2 = multiply($result1, $y);
           
           echo "Result 1: $result1\n";
           echo "Result 2: $result2\n";
         </code>
      </pre>

      Щоб відлагоджувати цей код з використанням Xdebug, ви повинні додати в нього деякі додаткові функції, такі як
      xdebug_start_trace() та xdebug_stop_trace(), щоб профілювати виконання коду. Наприклад:
      <pre>
         <code>
            function add($a, $b) {
               return $a + $b;
           }
           
           function multiply($a, $b) {
               return $a * $b;
           }
           
           // Включення Xdebug
           xdebug_start_trace();
           
           $x = 10;
           $y = 5;
           
           $result1 = add($x, $y);
           $result2 = multiply($result1, $y);
           
           echo "Result 1: $result1\n";
           echo "Result 2: $result2\n";
           
           // Вимкнення Xdebug
           xdebug_stop_trace();
         </code>
      </pre>

      Цей код включає функцію xdebug_start_trace(), яка вмикає запис трасування виконання коду, а також функцію
      xdebug_stop_trace(), яка вимикає запис трасування. Щоб переглянути результати трасування, вам потрібно буде
      відкрити згенерований файл трасування у вашому браузері або іншому текстовому редакторі.
      <br>
      <br>
      Для відлагодження PHP-коду з використанням Xdebug можна використовувати функцію xdebug_break(), яка зупиняє
      виконання коду в конкретній точці. Ось невеликий приклад PHP-коду, який можна відлагоджувати з використанням
      Xdebug та функції xdebug_break():
      <pre>
         <code>
            function add($a, $b) {
               return $a + $b;
           }
           
           function multiply($a, $b) {
               return $a * $b;
           }
           
           // Включення Xdebug
           xdebug_start_trace();
           
           $x = 10;
           $y = 5;
           
           // Відлагодження коду за допомогою функції xdebug_break()
           xdebug_break();
           
           $result1 = add($x, $y);
           $result2 = multiply($result1, $y);
           
           echo "Result 1: $result1\n";
           echo "Result 2: $result2\n";
           
           // Вимкнення Xdebug
           xdebug_stop_trace();
         </code>
      </pre>

      У цьому коді використовується функція xdebug_break(), яка зупиняє виконання коду в точці, де її було викликано, і
      чекає на підключення зовнішнього відлагоджувача. Після того, як виконання коду було зупинено за допомогою
      xdebug_break(), ви зможете переглянути та змінювати значення змінних, виконувати код крок за кроком, а також
      досліджувати стек викликів та іншу інформацію про виконання коду.

   </div>

   <br>
   <br>

   Крок 7: Заключні думки
   Xdebug - потужний інструмент для відлагодження та профілювання PHP-коду. Він дозволяє вам детально досліджувати
   ваш код, забезпечуючи зручні інструменти для відстеження змінних, стеку викликів та багатьох інших параметрів. Не
   забувайте експериментувати з Xdebug та іншими інструментами, що допоможуть вам ще більше покращити ваш розробний
   процес.<br><br>

   <div class="task">
      <br>
      Завдання:<br>
      1) Повторити пройдений матеріал<br>
      <br>
      <br>
   </div>

   <script src="assets/js/app.js"></script>
</body>

</html>