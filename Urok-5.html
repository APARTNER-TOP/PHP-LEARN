<!DOCTYPE html>
<html lang="uk">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Цикли в PHP</title>
   <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
   <div class="post-content">
      Для програмування повторюваних процесів використовуються цикли, які є практично у всіх сучасних мовах
      програмування.<br><a data-fancybox="gallery"
         href="assets/img/cuklu-v-php.jpg">
         <img src="assets/img/cuklu-v-php.jpg" alt="Цикли в PHP" />
      </a>
      <h2>Цикл While</h2>Оператор <i>While</i> називається оператором циклу з передумовою та має наступний синтаксис:
      <pre><code>while (умова) {<br>    оператори;<br>}</code></pre>Спочатку виконується умова, і якщо її значення
      істинно (<i>True</i>), виконується тіло циклу, яке буде виконуватися доти, поки значення висловлювання умови не
      стане хибним (<i>False</i>). Тіло циклу не обов’язково має бути укладено у фігурні дужки, якщо потрібно виконати
      лише один оператор, вони можуть бути опущені. Однак стандарт кодування PSR рекомендує їх використання.
      <pre><code>&lt;?php<br>$i = 'a';<br>while ($i &lt;= 'e') {<br>    echo $i;<br>    $i++;<br>}</code></pre>
      Результатом виконання коду є рядок латинських символів від символу <i>A</i> до <i>E</i>. Тіло циклу, розташоване
      між фігурними дужками, виконується доти, доки вираз <i>$i &lt;= 'e'</i> не набуде значення <i>False</i>. При
      кожній ітерації циклу значення лічильника <i>$i</i> збільшується на один символ за допомогою оператора інкременту
      <i>$i++</i>. Як тільки значення змінної <i>$i</i> перевищує символ <i>E</i>, вираз приймає значення <i>False</i> і
      на наступній ітерації оператор <i>While</i> припиняє свою роботу.<br><br>Існує спосіб припинити виконання циклу
      негайно. Для цього застосовується оператор <i>Break</i>:
      <pre><code>&lt;?php<br>$i = 'a';<br>while ($i &lt;= 'e') {<br>    if ($i == 'c') break;<br>    echo $i;<br>    $i++;<br>}</code></pre>
      Результатом роботи скрипта є рядок <i>ab</i>. Коли <i>$i</i> стає рівним символу <i>C</i>, останній оператор
      <i>Echo</i> у циклі не виконується.<br><br>Можливо достроково припинити поточну ітерацію та перейти одразу до
      початку наступної ітерації. Для цього застосовується оператор <i>Continue</i>:
      <pre><code>&lt;?php<br>$i = 'a';<br>while ($i &lt;= 'e') {<br>    $i++;<br>    if ($i == 'c') continue;<br>    echo $i;<br>}<br></code></pre>
      У цьому прикладі, якщо <i>$i</i> дорівнює символу <i>C</i>, все наступне після цього оператора в тілі функції
      <i>While</i> пропускається і починається новий цикл.<br><br>У вкладених циклах оператори <i>Break</i> за
      замовчуванням діють кожен своєму рівні вкладення. Але можна керувати не лише своїм циклом, а й зовнішнім циклом,
      для цього слід зазначити його номер. За замовчуванням, якщо передати значення <i>Break 1</i>, його дії будуть
      належати поточному циклові. Якщо оператору <i>Break</i>, розташованому у внутрішньому циклі, передати номер
      <i>2</i>, замість внутрішнього циклу він буде переривати зовнішній цикл.<br><br>Як і у випадку операторів
      <i>If</i> і <i>Switch</i>, оператор <i>While</i> підтримує синтаксис без фігурних дужок, використовуючи ключові
      слова <i>while:</i> і <i>endwhile:</i>
      <pre><code>&lt;?php<br>$i = 'a';<br>while ($i &lt;= 'e'):<br>    echo $i;<br>    $i++;<br>endwhile;</code></pre>
      <h2>Цикл do ... while</h2>На відміну від циклу <i>While</i>, цикл <i>Do</i> ... <i>while</i> перевіряє умову
      виконання циклу не на початку ітерації, а наприкінці і має наступний синтаксис:
      <pre><code>do {<br>    оператори;<br>} while (умова);</code></pre>Таким чином, цикл завжди буде виконаний хоча б
      один раз. Після виконання тіла циклу обчислюється вираз умови, і якщо він істинний (<i>True</i>), знову
      виконується тіло циклу.
      <pre><code>&lt;?php<br>$i = 1;<br>do {<br>    echo $i;<br>} while ($i++ &lt; 5);</code></pre>У цьому прикладі
      одиниця завжди буде додана до списку, незалежно від значення умови <i>$i++ &lt; 5</i>. Результатом цього прикладу
      будуть виведені числа від 1 до 5.<br><br>При використанні циклу <i>do</i> ... <i>while</i> також допускається
      застосування операторів <i>Break</i> та <i>Continue</i>. На відміну від інших операторів циклу, а також операторів
      <i>If</i> та <i>Switch</i>, цей вид циклу не підтримує альтернативний синтаксис.<h2>Цикл For</h2>Ітераційний цикл
      <i>For</i> має наступний синтаксис:
      <pre><code>for (початок; умова; тіло) {<br>    оператори;<br>}</code></pre>Оператор <i>Початок</i> є послідовністю
      визначень і виразів, що розділяються комами. Тут встановлюються початкові значення лічильників та параметрів циклу
      та обчислюються лише один раз при вході в цикл. Цикл виконується доти, доки <i>Умова</i> істинна (<i>True</i>), і
      припиняє свою роботу, коли вона хибна (<i>False</i>). За відсутності <i>Умови</i> передбачається, що її значення
      завжди є істинним. Тіло виразу обчислюється наприкінці кожної ітерації після виконання тіла циклу. При
      використанні циклу <i>For</i> також допускається застосування операторів <i>Break</i> та <i>Continue</i>.
      <pre><code>&lt;?php<br>for ($i = 'a'; $i &lt;= 'e'; $i++) {<br>    echo $i;<br>}</code></pre>Результатом прикладу
      буде виведення латинських символів <i>abcde</i>. Тут значення <i>$i</i> на початку роботи циклу приймає значення,
      що дорівнює символу <i>A</i> (<i>$i = 'a'</i>), на кожній ітерації циклу значення змінної <i>$i</i> збільшується
      на 1 символ по черзі латинського алфавіту за допомогою оператора інкремента ($i++). Цикл виконує свою роботу до
      тих пір, поки значення <i>$i</i> менше або дорівнює символу <i>E</i>.<br><br>Дозволено використання кількох
      операторів і в блоці ініціалізації:
      <pre><code>&lt;?php<br>for ($i = 1, $str = 'a';<br>     !empty( $str ) &amp;&amp; strlen( $str ) == 1;<br>     print "$i - $str", print "&lt;br /&gt;", $i++, $str++);</code></pre>
      В результаті роботи циклу з прикладу будуть виведені всі символи латинської абетки з порядним номером:
      <pre><code>1 – a<br>2 – b<br>…<br>25 - y<br>26 - z</code></pre>Цей підхід наведено лише для демонстрації
      особливостей роботи циклу <i>For</i> і не рекомендується до застосування.<br><br>Цикли <i>For</i>, як і будь-які
      інші цикли, можуть бути вкладені один в одного. Наведемо класичний приклад на вкладені цикли - програма
      знаходження простих чисел (числа, які діляться лише з 1 і самих себе).
      <pre><code>for ($i = 2; $i &lt; 100; $i++) {<br>    for ($j = 2; $j &lt; $i; $j++) {<br>        if (($i % $j) != 0) {<br>          continue;<br>        } else {<br>            $flag = true;<br>            break;<br>        }<br>    }<br>    if (!$flag) echo "$i ";<br>    $flag = false;<br>}</code></pre>
      Цей приклад реалізований у вигляді двох вкладених циклів, у яких здійснюються перебір та перевірка залишку від
      розподілу за модулем пари чисел. Перше число змінюється від 2 до 100, а друге – від 2 до значення першого числа.
      Якщо залишок від розподілу не дорівнює нулю, то оператор <i>Continue</i> здійснюється продовження внутрішнього
      циклу, оскільки цей оператор наказує програмі перейти на наступну ітерацію циклу. Якщо ж залишок від розподілу
      дорівнює нулю, то відбувається вихід з внутрішнього циклу по оператору <i>Break</i>. У цьому логічна змінна
      <i>$flag</i>, у якому встановлюється ознака поділу, набуває значення <i>True</i>. По закінченні внутрішнього циклу
      проводиться аналіз логічної змінної та виведення простого числа. Результат роботи скрипту:
      <pre><code>2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 </code></pre>Як і у випадку
      операторів <i>If</i> та <i>Switch</i>, оператор <i>For</i> підтримує синтаксис без фігурних дужок з використанням
      ключових слів <i>For</i> та <i>Endfor:</i>
      <pre><code>&lt;?php<br>for ($i = 'a'; $i &lt;= 'e'; $i++) :<br>    echo $i;<br>endfor;</code></pre>
      <h2>Foreach </h2>Цикл <i>Foreach</i> спеціально створений для асоціативних масивів і має наступний синтаксис:
      <pre><code>foreach ($array as [$key =&gt;] $value) {<br>    оператори; <br>}</code></pre>Цикл <i>Foreach</i>
      послідовно обходить всі елементи масиву <i>$array</i>, поміщаючи при кожній ітерації циклу ключ у змінну
      <i>$key</i>, а значення у змінну <i>$value</i>. Імена цих змінних можуть бути будь-якими.
      <pre><code>&lt;?php<br>$arr = [<br>    'first'  =&gt; '1',<br>    'second' =&gt; '2',<br>    'third'  =&gt; '3'<br>];<br>foreach ($arr as $index =&gt; $val) {<br>    echo $index . ' = '. $val;<br>}</code></pre>
      Результатом роботи прикладу будуть наступні рядки:
      <pre><code>first = 1<br>second = 2<br>third = 3</code></pre>

      <h2>Foreach </h2>Цикл <i>Foreach</i> також має наступний синтаксис:

      <pre><code>foreach ($array as [$key =&gt;] $value) :<br>    оператори; <br>endforeach;</code></pre>Цикл
      <i>Foreach</i>

      <pre><code>&lt;?php<br>$arr = [<br>    'first'  =&gt; '1',<br>    'second' =&gt; '2',<br>    'third'  =&gt; '3'<br>];<br>foreach ($arr as $index =&gt; $val) :<br>    echo $index . ' = '. $val;<br>endforeach;</code></pre>
      Результатом роботи прикладу будуть наступні рядки:
      <pre><code>first = 1<br>second = 2<br>third = 3</code></pre>



   </div>

   <h2>Включення РНР-файлу</h2>
   <p>В один php файл можна включити декілька інших скрипт файлів. Зазвичай, скрипти досить рідко обмежуються одним
      файлом.
      Для підключення інших файлів у сценарій потрібно використовувати одну з двох конструкцій: include і require.
      Обидві
      приймають єдиний аргумент - шлях до файлу. В результаті підключення відбувається підстановка вмісту файлу у місце
      їх
      виклику у вихідному скрипті. Якщо в якості підключеного файлу виступає РНР-скрипт, то спочатку відбувається його
      підстановка у вихідний сценарій, а потім інтерпретація:</p>

   <pre><code>&lt;?php<br>echo 'Основний скрипт';<br>include 'included.php';</code></pre>

   <h2>Абсолютний та відносний шлях до файлу</h2>При підключенні до
   скрипту файлів слід вказати шлях до них. Розрізняють відносні та абсолютні шляхи від кореня
   диска.<br><br>Використання відносних шляхів не залежить від сервера розміщення чи робочої станції, де ведеться
   розробка. Проєкт може бути розміщений у будь-якому каталозі, без необхідності переписати шляхи включення. Щоб
   підключити файли при використанні відносних шляхів, необхідно виконувати операції підняття або опускання на один
   або кілька рівнів вище або нижче поточної директорії. Батьківський каталог позначається двома крапками "<i>..</i>"
   і записуються так:
   <pre><code>require_once '../classes/images.php';<br>require_once '../data/config.php';</code></pre>Чим більше
   рівнів вкладень, тим складнішими і довгими стають відносні шляхи, і тим кращі абсолютні шляхи, для яких не
   потрібно обчислювати рівень вкладення щодо поточного файлу.<br><br>У сучасних РНР-додатках для вирішення цієї
   проблеми застосовують кілька прийомів. По-перше, намагаються використовувати одну точку входу, розташовану в
   корені проєкту. При цьому замість вказівки абсолютного шляху використовують наперед визначену константу
   <i>__DIR__</i>, що визначає поточний каталог скрипта.
   <pre><code>require_once __DIR__ .'/classes/images.php';<br>require_once __DIR__ .'/data/config.php';</code></pre>

   <p>Різниця include і require полягає в їх реакції на відсутність файлу для підключення. У разі include виводиться
      попередження, весь наступний код залишиться активним; в разі require, якщо не можна знайти файл, робота скрипта
      зупиняється. Також є можливість підключити файл один раз на сторінці , навіть якщо код підключення прописано два а
      то
      і більше разів. Для цього використовують include_once або require_once. Дії при відсутності файлу підключення такі
      самі , як з використання просто require і include.</p>

   <pre><code>&lt;?php<br>echo 'Основний скрипт';<br>include_once 'included.php';<br>require_once 'included.php';</code></pre>

   <div class="task">
      <br>
      Завдання:<br>
      1) Скористатись на практиці циклами: Цикл While, Цикл do ... while, Цикл For, Foreach<br>
      2) Підключити додатковий файл через include, require_once (Наприклад зробити шапку сторінки і низ за допомогою
      підключених файлів) Структуру HTML для файлів можна взяти тут https://www.w3schools.com/tags/tag_head.asp <br>
      3) Пройтись по навченому матеріалові<br>
      <br>
      <br>
   </div>

</body>

</html>