<!DOCTYPE html>
<html lang="uk">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Стандарти, стилі та правила оформлення коду PHP</title>
   <link rel="stylesheet" href="assets/css/style.css">

   <!-- hightlight -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">

   <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
   <!-- and it's easy to individually load additional languages -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js"></script>

   <style>
      .hljs {
         display: block;
         overflow-x: auto;
         padding: 0.5em;
         background: #002b36;
         color: #839496;
      }
   </style>
</head>

<body>
   <div class="post-content">
      <h2>Стандарти, стилі та правила оформлення коду PHP</h2>
      Більшість програмістів пишуть код як їм завгодно. Відступи роблять табуляціями, візуальний стиль як звикли. Якщо
      над проєктом працює виключно одна людина - це не створює проблем. А якщо надалі над написаним кодом будуть
      працювати інші програмісти? Буде дуже незвично і складно розібратися в чужому коді, тому рекомендується
      дотримуватися стандартів написання, описаних у цій статті.<br><img src="assets/img/standart.jpg"><br>Розберемо
      стандарти, стилі і правила
      оформлення коду PHP, які необхідні для забезпечення високого рівня технічної сумісності між загальним кодом PHP.
      Діючі стандарти PHP програмування: <a href="https://www.php-fig.org/psr/psr-1/" target="_blank">PSR-1</a> та <a
         href="https://www.php-fig.org/psr/psr-12/" target="_blank">PSR-12</a>.<br><br>- До всіх імен
      <strong>змінних</strong>, <strong>класів</strong>, <strong>функцій</strong> та інших назв, створення яких лежить
      на плечах програміста, необхідно дотримуватися вимог зрозумілості та читабельності. Всі назви виключно
      <strong>англійською</strong> мовою ($validationData, $userName).<br><br>- Логічні блоки повинні бути відокремлені
      символом нового рядку.<br><br>- На кожному рівні необхідно робити відступи, в залежності від рівня. Для оформлення
      відступів повинні використовуватися чотири пробіли (але не знак табуляції). <br><br>- Необхідно максимально
      скорочувати вкладеність коду та дублювання.<br><br>- Потрібно зафіксовувати всю необхідну інформацію коментуванням
      та документуванням коду.<br><br>- Файли повинні використовувати тільки теги <strong>&lt;?php</strong> та
      <strong>&lt;?=</strong>.<br>
      <pre><code>&lt;?php<br>echo "Hello, World!";<br>?&gt;<br>&lt;?= "Hello, World!" ?&gt;</code></pre>- Файли повинні
      використовувати тільки <strong>UTF-8</strong> без специфікації для коду PHP.<br><br>- Недопустимо жорстко
      обмежувати <strong>довжину рядка</strong>. М’яке обмеження повинно складати <i>120</i> символів, але старайтеся,
      щоб рядки містили не більше 80 символів. Якщо рядок довший, рекомендується використовувати конкатенацію та
      перенесення рядка. У кінці непустих рядків не повинно бути пробілів. В одному рядку не повинно бути більш одного
      виразу.<br><br>- У кінці кожного файлу з PHP-кодом повинен бути один пустий рядок.<br><br>- У файлі, що містить
      лише PHP-код, закритий тег <strong>?&gt;</strong> повинен бути відсутнім.<br><br>- <strong>Ключові слова</strong>
      PHP повинні бути написані в <strong>нижньому регістрі</strong>.<br><br>- Для позначення типів даних необхідно
      використовувати коротку форма ключових слів типу, тобто <i>bool</i> замість <i>boolean</i>, <i>int</i> замість
      <i>integer</i> тощо.<br><br>- Після відкриваючих та перед закриваючими дужками не повинно бути пробілів.<br><br>-
      <strong>Константи</strong> PHP <strong>true</strong>, <strong>false</strong> і <strong>null</strong> повинні бути
      написані в нижньому регістрі.<br>
      <pre><code>$a = true;<br>$b = false;<br>$c = null;</code></pre>- <strong>Оператори</strong> та <strong>ключові
         слова</strong> відокремлювати пробілами.<br>
      <pre><code>$x = 5;<br>$k = $x &gt; 10 ? 2 : 4;<br><br>if ($k &gt; 10)<br>    echo '$k=' . $k;</code></pre>- У
      файлі слід або оголошувати <strong>структури</strong> (класи, функції, константи та ін.), або генерувати побічні
      ефекти (реалізація логіки, не пов’язаної з оголошенням класів, функцій, констант, підключень зовнішніх файлів).
      Наприклад, слід уникати ситуацій з наступного лістингу, який містить оголошення про структури та побічні
      ефекти:<br>
      <pre><code>&lt;?php<br>// побічний ефект: зміна налаштувань <br>ini_set('display_errors', '0');<br><br>// побічний ефект: підключення файлу <br>require_once ("file.php");<br> <br>// побічний ефект: передача даних у вихідний потік<br>echo "Hello, World!";<br> <br>// оголошення <br>function foo() {<br>    // тіло функції<br>}</code></pre>
      - Після відкриваючої круглої дужки "(" і перед закриваючою ")" в керуючих конструкціях не повинно бути
      пробілу.<br><br>- Між закриваючою круглою дужкою ")" і відкриваючою фігурною дужкою "{" повинен бути один
      пробіл.<br><br>- <strong>Імена класів</strong> повинні бути оголошені за допомогою так званого
      «<strong>СamelCase</strong>» (кожне слово починається з великої букви, між словами немає роздільників).<br>
      <div class="notice">СамеlСаsе - стиль отримав назву від англ. Camel (верблюд), тобто прописні букви в названих
         класах нагадують горби верблюда.</div><br>- <strong>Імена методів</strong> і <strong>функцій</strong> повинні
      бути опубліковані з використанням так званої «<strong>camelCase</strong>» (перше слово пише в нижньому регістрі,
      далі кожне слово починається з великої букви, а між словами немає роздільників).<br><br>-
      <strong>Константи</strong> (класів) повинні бути оголошені виключно у верхньому регістрі за допомогою символів
      підкреслення для розділення слів.<br>
      <pre><code>&lt;?php<br>class Foo<br>{<br>    const VERSION = '1.0';<br>    const DATE_APPROVED = '2012-06-01';<br>}</code></pre>
      - Для явного вказання типу змінної можна використовувати префікс, який відображає їх тип: <br>
      <pre><code>// Рядки з префіксом str<br>$strName, $strLastName<br><br>// Масиви з префіксом ar<br>$arResult, $arParams, $arUser<br><br>// Об’єкти з префіксом ob<br>$obElement, $obUser<br><br>// Об’єкти БД з префіксом db<br>$dbUser, $dbResult</code></pre>
      - При множинній ініціалізації змінних вирівнювати значення між ними по правому краю використовуючи додатковий
      простір: <br>
      <pre><code>$x          = 10;<br>$arResult   = array();<br>$strSearch  = '';<br>$bFoundName = false;</code></pre>-
      Кожен <strong>клас</strong> повинен розташовуватися в окремому файлі і в просторі імен з хоча б одним верхнім
      рівнем.<br><br>- Відкриваюча фігурна дужка "<i>{</i>" у визначенні класу або методу повинна розташовуватися у
      новому рядку, а закриваюча "}" розташовуватися на наступному рядку після тіла класу або методу.<br>
      <pre><code>&lt;?php<br>if ($expr1) {<br>    // тіло if<br>} elseif ($expr2) {<br>    // тіло elseif<br>} else {<br>    // тіло else<br>}</code></pre>
      - Тіло кожної <strong>керуючої конструкції</strong> повинне бути укладене у фігурні дужки "<i>{...}</i>". Це
      дозволяє стандартизувати зовнішній вигляд керуючих конструкцій і знизити ризик виникнення помилок при додаванні
      нових рядків в тіло конструкції. <br><br>- Відкриваюча фігурна дужка "{" в керуючих конструкціях повинна
      розташовуватися в тому ж рядку, що і сама конструкція, а закриваюча "}" розташовуватися на наступному рядку після
      тіла конструкції. <br><br>- Після ключових слів в керуючих конструкціях (if, else, elseif, while, do-while, for,
      foreach, break, continue, switch, declare, return, require, include, require_once, include_once, goto) повинен
      розташовуватися один пробіл, а після викликів функцій і методів - не повинен. <br>
      <pre><code>if ($a === $b) {<br>    $foo-&gt;bar($arg1);<br>    bar();<br>}<br>foreach ($iterable as $key =&gt; $value) {<br>    // тіло foreach<br>}<br>while ($expr) {<br>    // тіло конструкції<br>}<br>do {<br>    // тіло конструкції<br>} while ($expr);<br>for ($i = 0; $i &lt; 10; $i++) {<br>    // тіло for<br>}<br>function foo($arg1, &amp;$arg2, $arg3 = [])<br>{<br>    // тіло метода<br>}</code></pre>
      - Вирази в дужках можуть бути розділити на кілька рядків, де кожен наступний рядок має відступи принаймні один
      раз. При цьому перша умова повинна бути в наступному рядку. Закриваючі та відкриваючі дужки повинні розміщуватися
      разом на їхній власній лінії з одним пробілом між ними. Логічні оператори між умовами повинні бути на початку або
      в кінці рядка, а не поєднання обох.<br><br>- Перед усіма двійковими арифметичними, порівняльними, присвоєними,
      побітовими, логічними, рядковими та типовими операторами повинен передувати і слідувати принаймні один
      пробіл.<br><br>- У списку аргументів після кожної коми повинен бути один пробіл.<br><br>- В конструкції
      <strong>Switch</strong> вираз <strong>Case</strong> має бути зміщений на один відступ від <i>Switch</i>, а ключове
      слово <i>Break</i> (або інше слово, що позначає вихід з конструкції) має розташовуватися на тому ж рівні
      відступів, що і тіло <i>Case</i>. У тому випадку, коли в непорожньому тілі <i>Case</i> навмисне не
      використовується <i>Break</i>, повинен бути коментар в стилі "// no break".<br>
      <pre><code>&lt;?php<br>switch ($expr) {<br>    case 0:<br>        echo 'First case, with a break';<br>        break;<br>    case 1:<br>        echo 'Second case, which falls through';<br>        // no break<br>    case 2:<br>    case 3:<br>    case 4:<br>        echo 'Third case, return instead of break';<br>        return;<br>    default:<br>        echo 'Default case';<br>        break;<br>}</code></pre>
      - Масиви форматуються у такому вигляді:<br>
      <pre><code>array(<br>    'ID'          =&gt; GetMessage('ID'),<br>    'LOGIN'       =&gt; GetMessage('CRM_LOGIN'),<br>    'PASSWORD'    =&gt; GetMessage('CRM_PASSWORD'),<br>);</code></pre>
   </div>

   <br>
   <br>

   <div class="task">
      <br>
      Завдання:<br>
      1) Повторити пройдений матеріал<br>
      <br>
      <br>
   </div>

   <!-- <script>hljs.highlightAll();</script> -->
</body>

</html>